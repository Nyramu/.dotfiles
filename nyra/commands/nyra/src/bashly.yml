name: nyra
help: Utility script for managing Nix
version: 1.0.0

commands:
- name: sync
  help: Synchronizes the system based on the config

  args:
  - name: config
    help: What config to use
    required: true
    allowed:
      - main
  
  examples:
  - nyra sync main


- name: clean
  help: Deletes unreachable store objects and generations older than 7 days (wrapper over nh clean)

  flags:
  - long: --delete-old 
    short: -d
    help: Deletes all old profiles

  examples:
  - nyra clean
  - nyra clean -d


- name: completions
  help: Loads completions in your shell


- name: android
  help: Mounts and unmounts the connected android device

  flags:
  - long: --unmount
    short: -u
    help: Unmounts the device from ~/Android

  examples:
  - nyra android
  - nyra android -u


- name: search
  help: Search packages in nixpkgs

  args:
  - name: query
    help: Which package to search
    required: true

  flags:
  - long: --description
    short: -d
    help: Search query in packages name AND description
  
  examples:
  - nyra search [query]
  - nyra search -d [query]


- name: shell
  help: Test packages from nixpkgs in a dedicated shell (wrapper over nix shell)

  args:
  - name: packages
    help: Which packages to put in the shell
    required: true

  examples:
  - nyra shell [packages]
